const input=document.querySelector(".js-input"),btnShare=document.querySelector(".js-btn-share"),btnReset=document.querySelector(".js-btn-reset"),btnLog=document.querySelector(".js-btnLog"),dataList=document.querySelector(".js-list"),favoriteUl=document.querySelector(".js-favorite");let listCocktails=[],listFavorite=[];function handlerCocktails(t){t.preventDefault(),getApi(),renderCocktail(listCocktails)}function renderCocktail(t){let i="";for(const e of t){const t=newImg(e);i+=-1===listFavorite.findIndex(t=>t.idDrink===e.idDrink)?`<li id="${e.idDrink}" class="drinkItem"><h2 class="drink_title">${e.strDrink}</h2><img class="drink_img" src=${t} alt=""></li>`:`<li id="${e.idDrink}" class="drinkItem fav_drink"><h2 class="drink_title">${e.strDrink}</h2><img class="drink_img" src=${t} alt=""></li>`,dataList.innerHTML=i}const e=document.querySelectorAll(".drinkItem");for(const t of e)t.addEventListener("click",favouriteList)}function renderFavorites(t){let i="";for(const e of t){const t=newImg(e);i+=`<li id="${e.idDrink}" class="drinkItem"><h2 class="drink_title">${e.strDrink}</h2><img class="drink_img" src=${t} alt=""></li>`}favoriteUl.innerHTML=i}function favouriteList(t){const i=t.currentTarget.id,e=listCocktails.find(t=>t.idDrink===i),r=listFavorite.findIndex(t=>t.idDrink===i);-1===r?listFavorite.push(e):listFavorite.splice(r,1),localStorage.setItem("dataList",JSON.stringify(listFavorite)),renderFavorites(listFavorite)}function getApi(){const t=input.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(t=>t.json()).then(t=>{listCocktails=t.drinks,renderCocktail(listCocktails)})}function newImg(t){return""===t.strDrinkThumb?void 0:t.strDrinkThumb}function resetFavotites(){listFavorite=[],console.log("hago click reset"),renderFavorites(listFavorite)}btnShare.addEventListener("click",handlerCocktails),btnReset.addEventListener("click",resetFavotites);const listCocktailsStorage=JSON.parse(localStorage.getItem("dataList"));null!==listCocktailsStorage&&(listFavorite=listCocktailsStorage,renderFavorites(listFavorite));