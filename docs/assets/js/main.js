const input=document.querySelector(".js-input"),btnShare=document.querySelector(".js-btn-share"),btnReset=document.querySelector(".js-btn-reset"),dataList=document.querySelector(".js-list"),favoriteUl=document.querySelector(".js-favorite");let listCocktails=[],listFavorite=[];function handlerCocktails(t){t.preventDefault(),getApi(),renderCocktail(listCocktails)}function renderCocktail(t){let e="";for(const i of t){const t=newImg(i);e+=`<li id="${i.idDrink}" class="drinkItem fav-color"><h2 class="drink_title">${i.strDrink}</h2><img class="drink_img" src=${t} alt=""></li>`,dataList.innerHTML=e}const i=document.querySelectorAll(".drinkItem");for(const t of i)console.log("holi"),t.addEventListener("click",favouriteList)}function renderFavorites(t){let e="";for(const i of t){const t=newImg(i);e+=`<li id="${i.idDrink}" class="drinkItem"><h2 class="drink_title">${i.strDrink}</h2><img class="drink_img" src=${t} alt=""></li>`,favoriteUl.innerHTML=e}}function favouriteList(t){const e=t.currentTarget.id,i=listCocktails.find(t=>t.idDrink===e),o=listFavorite.findIndex(t=>t.idDrink===e);-1===o?(listFavorite.push(i),console.log("me has añadido a fav")):(listFavorite.splice(o,1),console.log("no me has añadido a fav")),localStorage.setItem("dataList",JSON.stringify(listFavorite)),renderFavorites(listFavorite)}function getApi(){const t=input.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(t=>t.json()).then(t=>{listCocktails=t.drinks,renderCocktail(listCocktails)})}function newImg(t){return""===t.strDrinkThumb?void 0:t.strDrinkThumb}function RemoveClick(){console.log("holi"),renderFavorites()}function resetFavotites(){const t=document.querySelector(".js-btn-reset");console.log("hago click reset");for(const e of t)e.addEventListener("click",RemoveClick)}btnShare.addEventListener("click",handlerCocktails),btnReset.addEventListener("click",resetFavotites);const listCocktailsStorage=JSON.parse(localStorage.getItem("dataList"));null!==listCocktailsStorage&&(listFavorite=listCocktailsStorage,renderFavorites(listFavorite));